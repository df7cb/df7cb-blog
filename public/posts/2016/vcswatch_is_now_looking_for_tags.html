<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>vcswatch is now looking for tags | Myon&#39;s Blog</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="About a week ago, I extended
vcswatch
to also look at tags in git repositories.
Previously, it was solely paying attention to the version number in the top
paragraph in debian/changelog, and would alert if that version didn&rsquo;t match the
package version in Debian unstable or experimental. The idea is that &ldquo;UNRELEASED&rdquo;
versions will keep nagging the maintainer
(via DDPO)
not to forget that some day this package needs an upload. This works for git,
svn, bzr, hg, cvs, mtn, and darcs repositories (in decreasing order of actual
usage numbers in Debian. I had actually tried to add arch support as well, but
that VCS is so weird that it wasn&rsquo;t worth the trouble).
There are several shortcomings in that simple approach:

Some packages update debian/changelog only at release time, e.g. auto-generated from the git changelog using git-dch
Missing or misplaced release tags are not detected

The new mechanism fixes this for git repositories by also looking at the output
of git describe &ndash;tags. If there are any commits since the last tag, and the
vcswatch status according to debian/changelog would otherwise be &ldquo;OK&rdquo;, a new
status &ldquo;COMMITS&rdquo; is set. DDPO will report e.g. &ldquo;1.4-1&#43;2&rdquo;, to be read as &ldquo;2
commits since the tag [debian/]1.4-1&rdquo;.
Of the 16644 packages using git in Debian, currently 7327 are &ldquo;OK&rdquo;, 2649 are in
the new &ldquo;COMMITS&rdquo; state, and 4227 are &ldquo;NEW&rdquo;. 723 are &ldquo;OLD&rdquo; and 79 are &ldquo;UNREL&rdquo;
which indicates that the package in Debian is ahead of the git repository. 1639
are in an ERROR state.
So far the new mechanism works for git only, but other VCSes could be added as
well.">
    <meta name="generator" content="Hugo 0.152.2">
    
    
    
      <meta name="robots" content="index, follow">
    
    <meta name="author" content="Christoph Berg">
    

    
<link rel="stylesheet" href="/blog/ananke/css/main.min.efe4d852f731d5d1fbb87718387202a97aafd768cdcdaed0662bbe6982e91824.css" >




    


    
      

    

    

    
      <link rel="canonical" href="https://df7cb.de/blog/posts/2016/vcswatch_is_now_looking_for_tags.html">
    

    <meta property="og:url" content="https://df7cb.de/blog/posts/2016/vcswatch_is_now_looking_for_tags.html">
  <meta property="og:site_name" content="Myon&#39;s Blog">
  <meta property="og:title" content="vcswatch is now looking for tags">
  <meta property="og:description" content="About a week ago, I extended vcswatch to also look at tags in git repositories.
Previously, it was solely paying attention to the version number in the top paragraph in debian/changelog, and would alert if that version didn’t match the package version in Debian unstable or experimental. The idea is that “UNRELEASED” versions will keep nagging the maintainer (via DDPO) not to forget that some day this package needs an upload. This works for git, svn, bzr, hg, cvs, mtn, and darcs repositories (in decreasing order of actual usage numbers in Debian. I had actually tried to add arch support as well, but that VCS is so weird that it wasn’t worth the trouble).
There are several shortcomings in that simple approach:
Some packages update debian/changelog only at release time, e.g. auto-generated from the git changelog using git-dch Missing or misplaced release tags are not detected The new mechanism fixes this for git repositories by also looking at the output of git describe –tags. If there are any commits since the last tag, and the vcswatch status according to debian/changelog would otherwise be “OK”, a new status “COMMITS” is set. DDPO will report e.g. “1.4-1&#43;2”, to be read as “2 commits since the tag [debian/]1.4-1”.
Of the 16644 packages using git in Debian, currently 7327 are “OK”, 2649 are in the new “COMMITS” state, and 4227 are “NEW”. 723 are “OLD” and 79 are “UNREL” which indicates that the package in Debian is ahead of the git repository. 1639 are in an ERROR state.
So far the new mechanism works for git only, but other VCSes could be added as well.">
  <meta property="og:locale" content="en_us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2016-05-29T19:49:28+02:00">
    <meta property="article:modified_time" content="2016-05-29T19:49:28+02:00">
    <meta property="article:tag" content="Debian">

  <meta itemprop="name" content="vcswatch is now looking for tags">
  <meta itemprop="description" content="About a week ago, I extended vcswatch to also look at tags in git repositories.
Previously, it was solely paying attention to the version number in the top paragraph in debian/changelog, and would alert if that version didn’t match the package version in Debian unstable or experimental. The idea is that “UNRELEASED” versions will keep nagging the maintainer (via DDPO) not to forget that some day this package needs an upload. This works for git, svn, bzr, hg, cvs, mtn, and darcs repositories (in decreasing order of actual usage numbers in Debian. I had actually tried to add arch support as well, but that VCS is so weird that it wasn’t worth the trouble).
There are several shortcomings in that simple approach:
Some packages update debian/changelog only at release time, e.g. auto-generated from the git changelog using git-dch Missing or misplaced release tags are not detected The new mechanism fixes this for git repositories by also looking at the output of git describe –tags. If there are any commits since the last tag, and the vcswatch status according to debian/changelog would otherwise be “OK”, a new status “COMMITS” is set. DDPO will report e.g. “1.4-1&#43;2”, to be read as “2 commits since the tag [debian/]1.4-1”.
Of the 16644 packages using git in Debian, currently 7327 are “OK”, 2649 are in the new “COMMITS” state, and 4227 are “NEW”. 723 are “OLD” and 79 are “UNREL” which indicates that the package in Debian is ahead of the git repository. 1639 are in an ERROR state.
So far the new mechanism works for git only, but other VCSes could be added as well.">
  <meta itemprop="datePublished" content="2016-05-29T19:49:28+02:00">
  <meta itemprop="dateModified" content="2016-05-29T19:49:28+02:00">
  <meta itemprop="wordCount" content="271">
  <meta itemprop="keywords" content="Debian">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="vcswatch is now looking for tags">
  <meta name="twitter:description" content="About a week ago, I extended vcswatch to also look at tags in git repositories.
Previously, it was solely paying attention to the version number in the top paragraph in debian/changelog, and would alert if that version didn’t match the package version in Debian unstable or experimental. The idea is that “UNRELEASED” versions will keep nagging the maintainer (via DDPO) not to forget that some day this package needs an upload. This works for git, svn, bzr, hg, cvs, mtn, and darcs repositories (in decreasing order of actual usage numbers in Debian. I had actually tried to add arch support as well, but that VCS is so weird that it wasn’t worth the trouble).
There are several shortcomings in that simple approach:
Some packages update debian/changelog only at release time, e.g. auto-generated from the git changelog using git-dch Missing or misplaced release tags are not detected The new mechanism fixes this for git repositories by also looking at the output of git describe –tags. If there are any commits since the last tag, and the vcswatch status according to debian/changelog would otherwise be “OK”, a new status “COMMITS” is set. DDPO will report e.g. “1.4-1&#43;2”, to be read as “2 commits since the tag [debian/]1.4-1”.
Of the 16644 packages using git in Debian, currently 7327 are “OK”, 2649 are in the new “COMMITS” state, and 4227 are “NEW”. 723 are “OLD” and 79 are “UNREL” which indicates that the package in Debian is ahead of the git repository. 1639 are in an ERROR state.
So far the new mechanism works for git only, but other VCSes could be added as well.">

      
    
	
  </head><body class="ma0 avenir bg-near-white production">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l center items-center justify-between">
    <a href="/blog/index.html" class="f3 fw2 hover-white white-90 dib no-underline">
      
        Myon&#39;s Blog
      
    </a>
    <div class="flex-l items-center">
      

      
      <div class="ananke-socials"></div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  
  <article class="flex-l mw8 center ph3 flex-wrap justify-between">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Posts
      </aside><div id="sharing" class="mt3 ananke-socials"></div>
<h1 class="f1 athelas mt3 mb1">vcswatch is now looking for tags</h1>
      
      <p class="tracked"><strong>Christoph Berg</strong>
      </p>
      
      
      
      <time class="f6 mv4 dib tracked" datetime="2016-05-29T19:49:28+02:00">May 29, 2016</time>
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><p>About a week ago, I extended
<em><a href="https://qa.debian.org/cgi-bin/vcswatch">vcswatch</a></em>
to also look at tags in git repositories.</p>
<p>Previously, it was solely paying attention to the version number in the top
paragraph in debian/changelog, and would alert if that version didn&rsquo;t match the
package version in Debian unstable or experimental. The idea is that <em>&ldquo;UNRELEASED&rdquo;</em>
versions will keep nagging the maintainer
(via <a href="https://qa.debian.org/developer.php">DDPO</a>)
not to forget that some day this package needs an upload. This works for git,
svn, bzr, hg, cvs, mtn, and darcs repositories (in decreasing order of actual
usage numbers in Debian. I had actually tried to add arch support as well, but
that VCS is so weird that it wasn&rsquo;t worth the trouble).</p>
<p>There are several shortcomings in that simple approach:</p>
<ul>
<li>Some packages update debian/changelog only at release time, e.g. auto-generated from the git changelog using <em>git-dch</em></li>
<li>Missing or misplaced release tags are not detected</li>
</ul>
<p>The new mechanism fixes this for git repositories by also looking at the output
of <em>git describe &ndash;tags</em>. If there are any commits since the last tag, and the
vcswatch status according to debian/changelog would otherwise be <em>&ldquo;OK&rdquo;</em>, a new
status <em>&ldquo;COMMITS&rdquo;</em> is set. DDPO will report e.g. &ldquo;1.4-1+2&rdquo;, to be read as &ldquo;2
commits since the tag [debian/]1.4-1&rdquo;.</p>
<p>Of the 16644 packages using git in Debian, currently 7327 are &ldquo;OK&rdquo;, 2649 are in
the new &ldquo;COMMITS&rdquo; state, and 4227 are &ldquo;NEW&rdquo;. 723 are &ldquo;OLD&rdquo; and 79 are &ldquo;UNREL&rdquo;
which indicates that the package in Debian is ahead of the git repository. 1639
are in an ERROR state.</p>
<p>So far the new mechanism works for git only, but other VCSes could be added as
well.</p>
<ul class="pa0">
  
   <li class="list di">
     <a href="/blog/tags/debian.html" class="link f5 grow br-pill ba ph3 pv2 mb2 dib black sans-serif no-underline">Debian</a>
   </li>
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




  <div class="bg-light-gray pa3 nested-list-reset nested-copy-line-height nested-links">
    <p class="f5 b mb3">Related</p>
    <ul class="pa0 list">
	   
	     <li  class="mb2">
          <a href="/blog/posts/2015/10_years_debian_developer.html">10 Years Debian Developer</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/posts/2015/postgresql_9.5_in_debian.html">PostgreSQL 9.5 in Debian</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/posts/2015/apt.postgresql.org_statistics.html">apt.postgresql.org statistics</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/posts/2014/new_urxvt_tab_in_current_directory.html">New urxvt in current directory</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/posts/2014/comparing_version_numbers_in_shell.html">Comparing Version Numbers in Shell</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/posts/2014/postgresql_9.4_on_debian.html">PostgreSQL 9.4 on Debian</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/posts/2014/trusty_and_saucy_on_apt.postgresql.org.html">Trusty and Saucy on apt.postgresql.org</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/posts/2014/ci.debian.net_on_ddpo.html">ci.debian.net on DDPO</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/posts/2013/tf101_flickering_and_a_loose_cable.html">TF101 flickering and a loose cable</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/posts/2013/hp6715b-wifi.html">Jessie, the HP 6715b, and Wifi</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/posts/2013/version_numbers.html">Version Numbers</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/posts/2013/how_not_to_monitor_a_boolean.html">How not to monitor a boolean</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/posts/2013/postgresql_minor_releases.html">PostgreSQL minor releases</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/posts/2012/apt.postgresql.org.html">apt.postgresql.org</a>
        </li>
	    
	     <li  class="mb2">
          <a href="/blog/posts/2012/pgbouncer_running_on_the_same_hardware.html">pgbouncer running on the same hardware</a>
        </li>
	    
    </ul>
</div>

</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white white-70 dn dib-ns pv2 ph3 no-underline" href="https://df7cb.de/blog/index.html" >
    &copy;  Myon's Blog 2025 
  </a>
    <div><div class="ananke-socials"></div>
</div>
  </div>
</footer>

  </body>
</html>
