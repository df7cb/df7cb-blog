<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Unix on Myon&#39;s Blog</title>
    <link>https://df7cb.de/blog/tags/unix.html</link>
    <description>Recent content in Unix on Myon&#39;s Blog</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <lastBuildDate>Fri, 09 Mar 2018 10:06:21 +0100</lastBuildDate>
    <atom:link href="https://df7cb.de/blog/tags/unix/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Cool Unix Features: paste</title>
      <link>https://df7cb.de/blog/posts/2018/paste.html</link>
      <pubDate>Fri, 09 Mar 2018 10:06:21 +0100</pubDate>
      <guid>https://df7cb.de/blog/posts/2018/paste.html</guid>
      <description>&lt;p&gt;&lt;em&gt;paste&lt;/em&gt; is one of those tools nobody uses [1]. It puts two file side by side,&#xA;line by line.&lt;/p&gt;&#xA;&lt;p&gt;One application for this came up today where some tool was called for several&#xA;files at once and would spit out one line by file, but unfortunately not&#xA;including the filename.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$ paste &amp;lt;(ls *.rpm) &amp;lt;(ls *.rpm | xargs -r rpm -q --queryformat &#39;%{name} \n&#39; -p)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;[1] See &amp;ldquo;J&amp;rdquo; in &lt;a href=&#34;http://ifaq.wap.org/computers/abcsofunix.html&#34;&gt;The ABCs of Unix&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;[&lt;em&gt;PS: I meant to blog this in 2011, but apparently never committed the file&amp;hellip;&lt;/em&gt;]&lt;/p&gt;</description>
    </item>
    <item>
      <title>grep -r foobar</title>
      <link>https://df7cb.de/blog/posts/2012/grep_-r_foobar.html</link>
      <pubDate>Thu, 22 Nov 2012 16:25:49 +0100</pubDate>
      <guid>https://df7cb.de/blog/posts/2012/grep_-r_foobar.html</guid>
      <description>&lt;p&gt;In Wheezy&amp;rsquo;s grep version [1], you can omit the &amp;ldquo;.&amp;rdquo; in&lt;/p&gt;&#xA;&lt;pre&gt;&#xA;$ grep -r foobar .&#xA;&lt;/pre&gt;&#xA;&lt;p&gt;and just write&lt;/p&gt;&#xA;&lt;pre&gt;&#xA;$ grep -r foobar&#xA;&lt;/pre&gt;&#xA;&lt;p&gt;[1] actually since 2.11&lt;/p&gt;</description>
    </item>
    <item>
      <title>Cool Unix Features: /usr/bin/time</title>
      <link>https://df7cb.de/blog/posts/2012/usr_bin_time.html</link>
      <pubDate>Wed, 21 Mar 2012 09:45:42 +0100</pubDate>
      <guid>https://df7cb.de/blog/posts/2012/usr_bin_time.html</guid>
      <description>&lt;p&gt;Ever wondered how much memory a program needed? Install the &amp;ldquo;time&amp;rdquo; package:&lt;/p&gt;&#xA;&lt;pre&gt;&#xA;$ /usr/bin/time ls&#xA;[...]&#xA;0.00user 0.00system 0:00.00elapsed 0%CPU (0avgtext+0avgdata 4000maxresident)k&#xA;0inputs+0outputs (0major+311minor)pagefaults 0swaps&#xA;&lt;/pre&gt;&#xA;&lt;p&gt;Unfortunately the &amp;ldquo;time&amp;rdquo; bash built-in makes it necessary to use the full path.&lt;/p&gt;&#xA;&lt;p&gt;Thanks to youam for the tip.&lt;/p&gt;&#xA;&lt;p&gt;&lt;em&gt;Update:&lt;/em&gt; aba notes that calling \time works as well. Thanks!&lt;/p&gt;</description>
    </item>
    <item>
      <title>I need to look this up every time</title>
      <link>https://df7cb.de/blog/posts/2010/I_need_to_look_this_up_every_time.html</link>
      <pubDate>Sat, 19 Jun 2010 13:09:24 +0200</pubDate>
      <guid>https://df7cb.de/blog/posts/2010/I_need_to_look_this_up_every_time.html</guid>
      <description>&lt;p&gt;I need to look this up every time I need a backport (mostly PostgreSQL) at a&#xA;customer site with limited networking:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$ lftp -c &#39;mget http://backports.debian.org/debian-backports/pool/main/p/postgresql-8.4/*_8.4.5-1~bpo50+1_amd64.deb&#39;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Hopefully I can remember this in the future.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Cool Unix Features: /dev/full</title>
      <link>https://df7cb.de/blog/posts/2010/dev_full.html</link>
      <pubDate>Wed, 17 Feb 2010 13:21:52 +0100</pubDate>
      <guid>https://df7cb.de/blog/posts/2010/dev_full.html</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve always thought about collecting random bits of useful/interesting/cool&#xA;Unix features and the like. Before I let that rot indefinitely in a text file&#xA;in my $HOME, I&amp;rsquo;ll post it in a series of blog posts. So here&amp;rsquo;s bit #1:&lt;/p&gt;&#xA;&lt;p&gt;Everyone knows /dev/null, and most will know /dev/zero. But /dev/full was&#xA;unknown to me until some time ago. This device will respond to any write&#xA;request with ENOSPC, No space left on device. Handy if you want to test if your&#xA;program catches &amp;ldquo;disk full&amp;rdquo; - just let it write there:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$ echo foo &amp;gt; /dev/full&#xA;bash: echo: write error: No space left on device&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Cool Unix Features: column -t</title>
      <link>https://df7cb.de/blog/posts/2010/column_-t.html</link>
      <pubDate>Wed, 17 Feb 2010 13:21:52 +0100</pubDate>
      <guid>https://df7cb.de/blog/posts/2010/column_-t.html</guid>
      <description>&lt;p&gt;&lt;em&gt;/etc/fstab&lt;/em&gt; files tend to be an unreadable mess of unaligned fields.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;# /etc/fstab: static file system information.&#xA;#&#xA;# &amp;lt;file system&amp;gt; &amp;lt;mount point&amp;gt;   &amp;lt;type&amp;gt;  &amp;lt;options&amp;gt;       &amp;lt;dump&amp;gt;  &amp;lt;pass&amp;gt;&#xA;proc            /proc           proc    defaults        0       0&#xA;/dev/mapper/benz-root /               ext3    errors=remount-ro 0       1&#xA;/dev/sda1       /boot           ext3    defaults        0       2&#xA;/dev/mapper/benz-home /home           ext3    defaults        0       2&#xA;/dev/mapper/benz-swap_1 none            swap    sw              0       0&#xA;newton:/home&#x9;&#x9;/nfs&#x9;&#x9;nfs&#x9;defaults,soft,intr,users&#x9;0 0&#xA;/dev/scd0       /media/cdrom0   udf,iso9660 user,noauto     0       0&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Let&amp;rsquo;s remove some whitespace in the third line:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;#&amp;lt;filesystem&amp;gt; &amp;lt;mountpoint&amp;gt;   &amp;lt;type&amp;gt;  &amp;lt;options&amp;gt;       &amp;lt;dump&amp;gt;  &amp;lt;pass&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;And then pipe everything from line 3 to the end through &lt;em&gt;column -t&lt;/em&gt;:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;# /etc/fstab: static file system information.&#xA;#&#xA;#&amp;lt;filesystem&amp;gt;            &amp;lt;mountpoint&amp;gt;   &amp;lt;type&amp;gt;       &amp;lt;options&amp;gt;                 &amp;lt;dump&amp;gt;  &amp;lt;pass&amp;gt;&#xA;proc                     /proc          proc         defaults                  0       0&#xA;/dev/mapper/benz-root    /              ext3         errors=remount-ro         0       1&#xA;/dev/sda1                /boot          ext3         defaults                  0       2&#xA;/dev/mapper/benz-home    /home          ext3         defaults                  0       2&#xA;/dev/mapper/benz-swap_1  none           swap         sw                        0       0&#xA;newton:/home             /nfs           nfs          defaults,soft,intr,users  0       0&#xA;/dev/scd0                /media/cdrom0  udf,iso9660  user,noauto               0       0&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Thanks to SP8472 for bringing this to my attention.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Cool Unix Features: date -d @</title>
      <link>https://df7cb.de/blog/posts/2010/date_at.html</link>
      <pubDate>Wed, 17 Feb 2010 13:21:52 +0100</pubDate>
      <guid>https://df7cb.de/blog/posts/2010/date_at.html</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve always been annoyed about how hard it is to convert seconds-since-epoch to&#xA;strings. I&amp;rsquo;ve always been using &amp;ldquo;date -d &amp;lsquo;1970-01-01 + 1234 sec&amp;rsquo;&amp;rdquo;, but as it&#xA;turned out, that&amp;rsquo;s wrong because it uses the wrong timezone. Luckily, there&amp;rsquo;s a&#xA;slick replacement:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$ date -d &#39;@1234&#39;&#xA;Do 1. Jan 01:20:34 CET 1970&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;The right version of the &amp;ldquo;long&amp;rdquo; version is:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$ date -d &#39;1970-01-01 UTC + 1234 sec&#39;&#xA;Do 1. Jan 01:20:34 CET 1970&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Cool Unix Features: df -T</title>
      <link>https://df7cb.de/blog/posts/2010/df_-T.html</link>
      <pubDate>Wed, 17 Feb 2010 13:21:52 +0100</pubDate>
      <guid>https://df7cb.de/blog/posts/2010/df_-T.html</guid>
      <description>&lt;p&gt;Just discovered (thanks to XTaran): &lt;em&gt;df -T&lt;/em&gt; &amp;ndash; show file system type.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$ df -Th&#xA;Filesystem    Type    Size  Used Avail Use% Mounted on&#xA;/dev/mapper/benz-root&#xA;              ext3    6.6G  4.9G  1.4G  79% /&#xA;tmpfs        tmpfs    1.6G     0  1.6G   0% /lib/init/rw&#xA;udev         tmpfs    1.6G  228K  1.6G   1% /dev&#xA;tmpfs        tmpfs    1.6G     0  1.6G   0% /dev/shm&#xA;/dev/sda1     ext3    236M   21M  203M  10% /boot&#xA;/dev/mapper/benz-home&#xA;              ext3    135G   82G   53G  61% /home&#xA;newton:/home   nfs    459G  145G  291G  34% /nfs&#xA;&lt;/code&gt;&lt;/pre&gt;</description>
    </item>
    <item>
      <title>Cool Unix Features: flock</title>
      <link>https://df7cb.de/blog/posts/2010/flock.html</link>
      <pubDate>Wed, 17 Feb 2010 13:21:52 +0100</pubDate>
      <guid>https://df7cb.de/blog/posts/2010/flock.html</guid>
      <description>&lt;p&gt;Lockfiles are usually hard to get right, especially in sh scripts. The best bet&#xA;so far was &amp;ldquo;lockfile&amp;rdquo; included with procmail, but its semantics are pretty&#xA;weird. (Try to understand what exit code you want, with or without &amp;ldquo;-!&amp;rdquo;.) Not&#xA;to mention that failing to clean up the lockfile will stop the next cron run,&#xA;etc.&lt;/p&gt;&#xA;&lt;p&gt;Since Lenny, util-linux ships &amp;ldquo;flock&amp;rdquo;. Now you simply say&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$ flock /path/to/lockfile /path/to/command&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;and are done. If you want it non-blocking, add &amp;ldquo;-n&amp;rdquo;:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$ flock -n /path/to/lockfile /path/to/command&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;I should probably migrate all my cronjobs to use this.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Cool Unix Features: nproc</title>
      <link>https://df7cb.de/blog/posts/2010/nproc.html</link>
      <pubDate>Wed, 17 Feb 2010 13:21:52 +0100</pubDate>
      <guid>https://df7cb.de/blog/posts/2010/nproc.html</guid>
      <description>&lt;p&gt;Since coreutils 8.1 (in Squeeze, not Lenny), there is a command that simply&#xA;prints out how many processors (cores, processing units) are available:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$ nproc&#xA;2&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;The use case is obvious:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$ make -j $(nproc)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;On a side note, this is gnulib&amp;rsquo;s nproc module wrapped into a C program. If you&#xA;didn&amp;rsquo;t know gnulib before (it had slipped my attention until recently), it is a&#xA;library of portability functions and other useful things. Adding it to a&#xA;project is simply done by calling gnulib-tool and tweaking a few lines in the&#xA;automake/whatever build scripts.&lt;/p&gt;&#xA;&lt;p&gt;&lt;i&gt;PS: do not use nproc unconditionally in debian/rules. Parse&#xA;DEB_BUILD_OPTIONS for &amp;ldquo;parallel&amp;rdquo; instead.&lt;/i&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Cool Unix Features: paste</title>
      <link>https://df7cb.de/blog/posts/2010/paste.html</link>
      <pubDate>Wed, 17 Feb 2010 13:21:52 +0100</pubDate>
      <guid>https://df7cb.de/blog/posts/2010/paste.html</guid>
      <description>&lt;p&gt;&lt;em&gt;paste&lt;/em&gt; is one of those tools nobody uses [1]. It puts two file side by side,&#xA;line by line.&lt;/p&gt;&#xA;&lt;p&gt;One application for this came up today where some tool was called for several&#xA;files at once and would spit out one line by file, but unfortunately not&#xA;including the filename.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$ paste &amp;lt;(ls *.rpm) &amp;lt;(ls *.rpm | xargs -r rpm -q --queryformat &#39;%{name} \n&#39; -p)&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;[1] See &amp;ldquo;J&amp;rdquo; in &lt;a href=&#34;http://ifaq.wap.org/computers/abcsofunix.html&#34;&gt;The ABCs of Unix&lt;/a&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Cool Unix Features: stat</title>
      <link>https://df7cb.de/blog/posts/2010/stat.html</link>
      <pubDate>Wed, 17 Feb 2010 13:21:52 +0100</pubDate>
      <guid>https://df7cb.de/blog/posts/2010/stat.html</guid>
      <description>&lt;p&gt;&amp;ldquo;stat&amp;rdquo; is &amp;ldquo;date +format&amp;rdquo; for files:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$ stat -c %s ~/me.jpg  # size&#xA;520073&#xA;$ stat -c %U ~/me.jpg  # owner&#xA;cbe&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;No more parsing of &amp;ldquo;ls&amp;rdquo; output or similar hacks.&lt;/p&gt;&#xA;&lt;p&gt;It also shows detailed information about files.&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$ stat ~/me.jpg&#xA;  File: „/home/cbe/me.jpg“&#xA;  Size: 520073          Blocks: 1024       IO Block: 4096   reguläre Datei&#xA;Device: fe03h/65027d    Inode: 12427268    Links: 1&#xA;Access: (0600/-rw-------)  Uid: ( 2062/     cbe)   Gid: ( 2062/     cbe)&#xA;Access: 2010-06-06 12:58:07.000000000 +0200&#xA;Modify: 2010-04-09 22:38:46.000000000 +0200&#xA;Change: 2010-04-26 14:18:00.000000000 +0200&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;It supports similar features for stat&amp;rsquo;ing filesystems.&lt;/p&gt;</description>
    </item>
    <item>
      <title>seq is nice, but ...</title>
      <link>https://df7cb.de/blog/posts/2010/seq.html</link>
      <pubDate>Wed, 17 Feb 2010 13:21:52 +0100</pubDate>
      <guid>https://df7cb.de/blog/posts/2010/seq.html</guid>
      <description>&lt;pre&gt;&lt;code&gt;$ for i in `seq 1 40` ; do ./something $i ; done&#xA;$ for i in $(seq 1 40) ; do ./something $i ; done&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;em&gt;seq&lt;/em&gt; is nice for that, but the syntax feels a bit hard to type. If you don&amp;rsquo;t&#xA;need sh compatibility (read: in bash/zsh), try:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;$ for i in {1..40} ; do ./something $i ; done&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;&lt;em&gt;PS: no spaces allowed&lt;/em&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;em&gt;PS 2: another useful feature is prefixes/suffixes as in &amp;ldquo;touch {1..40}.txt&amp;rdquo;&lt;/em&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Using multiple IMAP accounts with Mutt</title>
      <link>https://df7cb.de/blog/posts/2010/Using_multiple_IMAP_accounts_with_Mutt.html</link>
      <pubDate>Wed, 17 Feb 2010 13:21:52 +0100</pubDate>
      <guid>https://df7cb.de/blog/posts/2010/Using_multiple_IMAP_accounts_with_Mutt.html</guid>
      <description>&lt;p&gt;Mutt&amp;rsquo;s configuration is sometime more a toolbox than something offering ready&#xA;solutions, and &amp;ldquo;how to I use multiple accounts?&amp;rdquo; is one of the most FAQs.&#xA;Here&amp;rsquo;s a condensed version of my setup.&lt;/p&gt;&#xA;&lt;p&gt;In the most simple solution, just &amp;lsquo;c&amp;rsquo;hange folders to the IMAP server:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;c imaps://imap.example.com &amp;lt;enter&amp;gt;&#xA;c imaps://imap.otherdomain.tld &amp;lt;enter&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;That&amp;rsquo;s cumbersome to type, so let&amp;rsquo;s automate it:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;# .mutt/muttrc&#xA;macro index &amp;lt;f2&amp;gt; &#39;&amp;lt;change-folder&amp;gt;imaps://imap.example.com&amp;lt;enter&amp;gt;&#39;&#xA;macro index &amp;lt;f3&amp;gt; &#39;&amp;lt;change-folder&amp;gt;imaps://imap.otherdomain.tld&amp;lt;enter&amp;gt;&#39;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;That would be the basic setup.&lt;/p&gt;&#xA;&lt;p&gt;The two accounts have settings associated with them, we put them in two files:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;# .mutt/account.example&#xA;set from=me@example.com&#xA;set hostname=&amp;quot;example.com&amp;quot;&#xA;set folder=&amp;quot;imaps://imap.example.com/&amp;quot;&#xA;set postponed=&amp;quot;=Drafts&amp;quot;&#xA;set spoolfile=&amp;quot;imaps://imap.example.com/INBOX&amp;quot;&#xA;set signature=&amp;quot;~/.mutt/signature.example&amp;quot;&#xA;set smtp_url=&amp;quot;smtp://me@mail.example.com&amp;quot; smtp_pass=&amp;quot;$my_pw_example&amp;quot;&#xA;&#xA;# .mutt/account.otherdomain&#xA;set from=myself@otherdomain.tld&#xA;set hostname=&amp;quot;otherdomain.tld&amp;quot;&#xA;set folder=&amp;quot;imaps://imap.otherdomain.tld/&amp;quot;&#xA;set postponed=&amp;quot;=Drafts&amp;quot;&#xA;set spoolfile=&amp;quot;imaps://imap.otherdomain.tld/INBOX&amp;quot;&#xA;set signature=&amp;quot;~/.mutt/signature.otherdomain&amp;quot;&#xA;set smtp_url=&amp;quot;smtp://myself@mail.otherdomain.tld&amp;quot; smtp_pass=&amp;quot;$my_pw_otherdomain&amp;quot;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Now all that&amp;rsquo;s left to do is two folder-hooks to load the files:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;# .mutt/muttrc&#xA;folder-hook &#39;example.com&#39; &#39;source ~/.mutt/account.example&#39;&#xA;folder-hook &#39;otherdomain.tld&#39; &#39;source ~/.mutt/account.otherdomain&#39;&#xA;# switch to default account on startup&#xA;source ~/.mutt/account.example&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;A slight variation of the macros also uses the account files:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;macro index &amp;lt;f2&amp;gt; &#39;&amp;lt;sync-mailbox&amp;gt;&amp;lt;enter-command&amp;gt;source ~/.mutt/account.example&amp;lt;enter&amp;gt;&amp;lt;change-folder&amp;gt;!&amp;lt;enter&amp;gt;&#39;&#xA;macro index &amp;lt;f3&amp;gt; &#39;&amp;lt;sync-mailbox&amp;gt;&amp;lt;enter-command&amp;gt;source ~/.mutt/account.otherdomain&amp;lt;enter&amp;gt;&amp;lt;change-folder&amp;gt;!&amp;lt;enter&amp;gt;&#39;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;To save entering the password all the time, we use account-hooks:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;account-hook example.org &#39;set imap_user=me imap_pass=pw1&#39;&#xA;account-hook otherdomain.tld &#39;set imap_user=myself imap_pass=pw2&#39;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;Putting passwords in configs isn&amp;rsquo;t something I like, so I pull them from the&#xA;Gnome keyring:&lt;/p&gt;&#xA;&lt;pre&gt;&lt;code&gt;set my_pw_example=`gnome-keyring-query get mutt_example`&#xA;set my_pw_otherdomain=`gnome-keyring-query get mutt_otherdomain`&#xA;account-hook example.org &#39;set imap_user=me imap_pass=$my_pw_example&#39;&#xA;account-hook otherdomain.tld &#39;set imap_user=myself imap_pass=$my_pw_otherdomain&#39;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;p&gt;(I found gnome-keyring-query in the&#xA;&lt;a href=&#34;http://www.gentoo-wiki.info/HOWTO_Use_gnome-keyring_to_store_SSH_passphrases&#34;&gt;Gentoo Wiki&lt;/a&gt;.)&lt;/p&gt;&#xA;&lt;p&gt;Martti Rahkila has &lt;a href=&#34;http://www.acoustics.hut.fi/~mara/mutt/profiles.html&#34;&gt;more verbose article&lt;/a&gt; with similar ideas.&lt;/p&gt;&#xA;&lt;p&gt;&lt;em&gt;Update 2013-01-02:&lt;/em&gt; smtp_url and smtp_pass added&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
